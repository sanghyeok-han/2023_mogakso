# 보드게임컵 C - 크레이지 타임

## 문제 출처

[https://www.acmicpc.net/problem/27159](https://www.acmicpc.net/problem/27161)

## 문제 설명

플레이어가 여러 명 있으며, 각 플레이어들은 카드를 받게 된다.

카드는 3가지 그림과 1~12까지 시간 단위로 구분되는 숫자가 적혀있으며, 각각의 그림으로는 벽시계, 손목시계, 모래시계가 있다.

이제 다음과 같이 게임이 진행된다.

1. 플레이어는 자기 차례가 되면 개인 더미의 가장 윗장 카드를 펼치며 이번 순서의 시각을 외친다. 첫 플레이어는 "1시"로 시작한다.
2. 시계 방향으로 돌아가며 각자의 차례를 가진다. 다른 방해 요소가 없다면 방금 전에 불린 시각을 기준으로 1시간씩 더해서 외친다. 전에 외친 시각이 "12시"라면 다음 사람은 "1시"를 외친다.

단, 다른 법칙이 적용되는 특수한 경우들이 있으며 이는 다음과 같다.

1. 시간 역행의 법칙: 누군가 모래시계 카드를 펼치면 시간이 거꾸로 흐르기 시작한다. 즉, 이제부터는 "2시", "1시", "12시" 순으로 외쳐야 한다. 모래시계 카드가 펼쳐질 때마다 시간의 흐름은 반전된다.
2. 동기화의 법칙: 플레이어가 외친 시각과 펼쳐진 카드에 적힌 시각이 일치하면, 모든 플레이어들은 즉시 손바닥으로 게임판 중앙을 내리쳐야 한다.
3. 과부하의 원칙: 펼쳐지는 카드가 동시에 2개 이상의 법칙을 발동시킨다면, 그 어떤 법칙도 적용하지 않는다. 예를 들어, 시간 역행의 법칙과 동기화의 법칙이 동시에 발동되면, 그 어떠한 법칙도 적용하지 않는다.

이때 펼쳐질 카드들의 순서가 주어졌을 때, 각 차례의 플레이어가 외쳐야 하는 시각과 해야 하는 행동을 출력하면 된다.

## 문제 풀이

각 카드를 입력으로 받을 때마다 해당 카드가 모래 시계인지의 여부, 현재 불러야 하는 시각과 카드에 적힌 시각이 같은 지의 여부에 따라 조건 분기를 하는 식으로 구현해주면 된다.

현재 시간이 정방향으로 진행되는지, 아니면 역방향으로 진행되는지 또한 기록해 두어야 한다.

## 소스 코드

```python
import sys
input = lambda: sys.stdin.readline().rstrip()

n = int(input())

tm = 1
is_reved = 0
for _ in range(n):
    tp, card = input().split()
    
    card = int(card)
    
    if tp == 'HOURGLASS' and card == tm:
        print(tm, 'NO')
    elif tp == 'HOURGLASS':
        print(tm, 'NO')
        is_reved ^= 1
    elif card == tm:
        print(tm, 'YES')
    else:
        print(tm, 'NO')
        
    if is_reved:
        tm -= 1
    else:
        tm += 1
        
    if tm == 0:
        tm = 12
    elif tm == 13:
        tm = 1
```